<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
  <title>My Address</title>
  <meta name='author' content='Huajun Chen'>
  <meta name='description' content='My Address aims to provide residents information on nearest city facilities, service zones, neighborhoods and development information. And also provide a crime data map.'>

  <meta property='og:image' content='https://maps.garlandtx.gov/gisimages/logo.png'>
  <meta property='og:description' content='My Address aims to provide residents information on nearest city facilities, service zones, neighborhoods and development information. And also provide a crime data map.'>
  <meta property='og:title' content='My Address'>

  <link href='images/favicon.ico' rel='icon' type='image/x-icon' />
  <link rel='stylesheet' href='css/style.css'>
  <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css' integrity='sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4'
    crossorigin='anonymous'>
  <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.0.13/css/all.css' integrity='sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp'
    crossorigin='anonymous'>

  <link rel='stylesheet' href='https://js.arcgis.com/4.7/esri/css/main.css'>
  <link href='https://fonts.googleapis.com/css?family=Signika' rel='stylesheet'>

</head>

<body>
  <div id='browser-check'>
    <noscript>
      <div class='browser-compatibility-alert d-block bg-danger text-white'>
        <!-- <div class='col-lg-4 col-md-6 font-grey'> -->
        <i class='fas fa-exclamation-triangle  fa-2x '></i>
        <p class='browser-error'>Your browser's Javascript functionality is turned off. Please turn it on so that you
          see the map and do the search.

        </p>
        <!-- </div> -->
      </div>
    </noscript>

    <div class="browser-compatibility-alert d-block bg-danger text-white">The web
      browser you are using right
      now may not be fully functional. Please use Chrome or Firefox instead.</div>
  </div>
  <header>
    <div class='overflow-hidden relative' aria-hidden='true'>
      <div id='viewDiv' style='width: 100%; height: 350px;'>
      </div>
      <div class='absolute'>
        <h1 class='title'>My Address</h1>
      </div>
    </div>
  </header>
  <!-- style="display:none;" -->
  <main>
    <div class='container-fluid'>
      <div id='main-content' class='d-none'>

        <div class='row justify-content-md-center r-search-box'>
          <!-- search bar -->
          <div class=' col-lg-4 col-md-6'>
            <div class='mb-3 col-12'>
              Enter a valid City of Garland Address to look up City data.
            </div>
            <div id='search'></div>
          </div>
        </div>
        <article class='row grey-background py-4 d-none' id='nodeResult'>

          <section class='col-lg-4 col-md-12 col-sm-12 r-card'>

            <h2 class='r-title'>
              Location Data
            </h2>
            <div class='r-content'>

              <section class='card'>
                <div class='card-header' id='headingOne'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseOne'>
                    <i class='fas fa-minus-square fa-lg'></i>
                    <h3 class='fas fa-lg'>Nearby City Facilities (click for directions)
                    </h3>
                  </div>
                </div>
                <div id='collapseOne' class='card-body collapse show' aria-labelledby='headingOne' data-parent='#accordion'>
                  <div id='nearestCityFacility' class='add-load-wrapp'>
                    <ul></ul>
                  </div>
                </div>
              </section>
              <section class='card'>
                <div class='card-header' id='headingTwo'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseTwo'>
                    <i class='fas fa-minus-square  fa-lg'></i>
                    <h3 class='fas fa-lg'>Services</h3>
                  </div>
                </div>
                <div id='collapseTwo' class='card-body collapse show' aria-labelledby='headingTwo' data-parent='#accordion'>
                  <div id='service' class='add-load-wrapp'>
                    <ul></ul>
                  </div>
                  <div id='ews_link' class='d-none'>
                  </div>
                </div>
              </section>

            </div>
          </section>
          <section class='col-lg-4 col-md-12 col-sm-12 r-card'>
            <h2 class='r-title'>
              Reference Data
            </h2>
            <div class='r-content'>
              <section class='card'>
                <div class='card-header' id='headingFour'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseFour'>
                    <i class='fas fa-minus-square fa-lg'></i>
                    <h3 class='fas fa-lg'>Reference</h3>
                  </div>
                </div>
                <div id='collapseFour' class='card-body collapse show' aria-labelledby='headingFour' data-parent='#accordion'>
                  <div id='parcelInfo' class='add-load-wrapp'>
                    <ul></ul>
                  </div>
                </div>
              </section>
              <section class='card'>
                <div class='card-header' id='headingFive'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseFive'>
                    <i class='fas fa-minus-square fa-lg'></i>
                    <h3 class='fas fa-lg'>Neighborhoods</h3>
                  </div>
                </div>
                <div id='collapseFive' class='card-body collapse show' aria-labelledby='headingFive' data-parent='#accordion'>
                  <div id='neighborhoods' class='add-load-wrapp'>
                    <ul></ul>
                  </div>
                </div>
              </section>
              <section class='card'>
                <div class='card-header' id='headingThree'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseThree'>
                    <i class='fas fa-minus-square fa-lg'> </i>
                    <h3 class='fas fa-lg'>Planning &amp; Development &#47; Zoning
                    </h3>
                  </div>
                </div>
                <div id='collapseThree' class='card-body collapse show' aria-labelledby='headingThree' data-parent='#accordion'>
                  <div id='planning_development-zoning' class='add-load-wrapp'>
                    <ul></ul>
                  </div>
                </div>
              </section>
              <section class='card'>
                <!-- default as hidden. Remove show in the card-body class, and change fa-minus-square to fa-plus-square -->
                <div class='card-header' id='headingEight'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseEight'>
                    <i class='fas fa-plus-square fa-lg'> </i>
                    <h3 class='fas fa-lg'>Streets Condition
                    </h3>
                  </div>
                </div>
                <div id='collapseEight' class='card-body collapse ' aria-labelledby='headingEight' data-parent='#accordion'>
                  <div id='street-condition'>

                    <div id='street-condition-toggle'>
                      <label>
                        <div class='mb-2 pl-4'>Add Street PCI to the detail map</div>
                        <input type='checkbox' class='ios-switch' id='street-condition-checkbox' />
                        <div class='switch'></div>
                      </label>
                      <input type='checkbox' />
                    </div>
                    <div class='p-2 mt-3' id='street-condition-legend'>

                    </div>
                  </div>
                </div>
              </section>
            </div>
          </section>
          <section class='col-lg-4 col-md-12 col-sm-12 r-card' aria-hidden='true'>
            <h2 class='r-title'>
              Map Data
            </h2>
            <div class='r-content'>

              <section class='card'>
                <div class='card-header' id='headingSeven'>
                  <div class='btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseSeven'>
                    <i class='fas fa-minus-square fa-lg'></i>
                    <h3 class='fas fa-lg'>Detail</h3>
                  </div>
                </div>
                <div id='collapseSeven' class='card-body collapse show' aria-labelledby='headingSeven' data-parent='#accordion'>
                  <div id='subMap' class='add-load-wrapp'>
                    <ul></ul>
                  </div>
                </div>
              </section>
              <section class='card'>
                <div class='card-header' id='headingSix'>
                  <div class='mb-0 btn btn-link collapsed' data-toggle='collapse' aria-controls='collapseSix'>
                    <i class='fas fa-minus-square fa-lg'></i>
                    <h3 class='fas fa-lg' id='crime-map-title'>Crime</h3>
                  </div>

                  <a class='btn btn-secondary  btn-secondary-right' id='open-crime-map' title='Open CrimeReport.com'
                    href='#' target='_blank'>
                    <i class='fas fa-external-link-alt'></i>
                  </a>

                </div>
                <div id='collapseSix' class='card-body collapse show' aria-labelledby='headingSix' data-parent='#accordion'>
                  <div id='crimeData'>

                  </div>
                </div>
              </section>

            </div>
          </section>

        </article>
        <article class='row justify-content-md-center pt-4 d-none grey-background relative' id='suggestedAddresses'>
          <div class='col-lg-4 col-md-8 col-sm-12'>
            <div class='card'>
              <div class='card-body '>
                <h2 class='card-title pb-3'>
                  Address not find. </h2>
                <div class='absolute float-right'>
                  <abbr title='Close this card'>
                    <button type='button' class='btn btn-secondary btn-secondary-right closeButton' aria-controls='suggestedAddresses'
                      aria-label='Close'>
                      <i class='fas fa-times'></i>
                    </button>
                  </abbr>
                </div>
                <div class='card-text' id='address-links'>
                </div>
              </div>
            </div>
          </div>
        </article>
      </div>

    </div>
    <div class='grey-background py-4' id='nodeLinks'>
      <!-- FAQs, Open Data -->


    </div>
  </main>
  <footer class='pt-2 px-3 font-grey'>
    <!--facebook twitter info -->
    <p class='copyright mb-2'> Copyright 2018. City of Garland. </p>
    <p class='copyright-content'>Texas Government Code ยง 2051.102 (2011): This product is for informational purposes
      and may not have been prepared for
      or be suitable for legal, engineering, or surveying purposes. It does not represent an on-the-ground survey and
      represents
      only the approximate relative location of property boundaries.</p>
  </footer>
  <script>
    //check if IE 7
    (function () {
      var ie = IeVersion();
      console.log("IsIE: " + ie.IsIE + "||" + "TrueVersion: " + ie.TrueVersion + "||" + "ActingVersion: " + ie.ActingVersion);
      if (ie.IsIE == true && (ie.TrueVersion < 11 || ie.ActingVersion < 11)) {
        document.getElementById('browser-check').style.display = 'block';
      } else {
        document.getElementById('browser-check').style.display = 'none';
      }

      function IeVersion() {
        //Set defaults
        var value = {
          IsIE: false,
          TrueVersion: 0,
          ActingVersion: 0,
          CompatibilityMode: false
        };

        //Try to find the Trident version number
        var trident = navigator.userAgent.match(/Trident\/(\d+)/);
        if (trident) {
          value.IsIE = true;
          //Convert from the Trident version number to the IE version number
          value.TrueVersion = parseInt(trident[1], 10) + 4;
        }

        //Try to find the MSIE number
        var msie = navigator.userAgent.match(/MSIE (\d+)/);
        if (msie) {
          value.IsIE = true;
          //Find the IE version number from the user agent string
          value.ActingVersion = parseInt(msie[1]);
        } else {
          //Must be IE 11 in "edge" mode
          value.ActingVersion = value.TrueVersion;
        }

        //If we have both a Trident and MSIE version number, see if they're different
        if (value.IsIE && value.TrueVersion > 0 && value.ActingVersion > 0) {
          //In compatibility mode if the trident number doesn't match up with the MSIE number
          value.CompatibilityMode = value.TrueVersion != value.ActingVersion;
        }
        return value;
      }

    })();

    // dojoConfig = {
    //   parseOnLoad: false,
    //   cacheBust: true
    // }
  </script>

  <script src='https://js.arcgis.com/4.7/'></script>

  <script src='config/multilayers-data.js'></script>
  <script src='config/config-data.js'></script>
  <script src='js/index.js'></script>
</body>

</html>