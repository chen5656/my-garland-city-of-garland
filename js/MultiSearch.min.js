define(["dojo/_base/declare","dojo/promise/all","esri/tasks/support/Query","esri/tasks/QueryTask"],function(e,t,r,i){var n=function(e){var n=this,s=e.map(function(e){return new i({url:e.url}).execute(new r({where:e.where,returnGeometry:!0,outFields:["*"]}))}),a=new t(s);return new Promise(function(t,r){a.then(function(r){return n.cityFacilityList=e.map(function(e,t){return e.features=r[t].features,e}),n.saveToClientStorage(),t()})})},s=function(){saveToIndexDB.insertInfo("multiSearchMaster",this)};return e(null,{constructor:function(e){this.containerList=e.containerList,this.mapService=e.mapService,this.serviceZoneSourceList=e.serviceZoneSourceList,this.parcelDataList=e.parcelDataList},getCityFacilityList:n,saveToClientStorage:s})});